类型检查机制

**类型推断**
不需要指定变量的类型（函数的返回值类型），Typescript 可以根据某些规则自动为其推断一个类型。

1.基础类型推断
2.最佳通用类型推断
3.上下文类型推断

\- 前两者都是从右往左的推断，根据值去推断， 例如 let a = 1 // a 被推断的类型是 number
\- 最佳通用类型推断 例如 let b = [1, 'a'] // b 的最佳通用类型 (string | number)[]
\- 根据上下类型推断 例如 window.onkeydown = (event) => {} // 推断 event 为 KeyboardEvent

\- 当类型推断不符合你的要求的时候，你可以使用类型断言 as，但是类型断言不能乱用，要对自己上下文充分了解

**类型兼容性**

当一个类型Y可以被赋值给另一个类型X时，可以说类型X兼容类型Y
1.接口
成员少的可以兼容成员多的
2.函数
1）个数
  多的可以兼容少的
         固有参数 剩余参数 可选参数
可选参数 不兼容 不兼容
剩余参数 兼容 兼容
固有参数 兼容 兼容
2）参数类型
多的可以兼容少的
3）函数返回值
少的可以兼容多的
4）函数重载
目标函数参数个数多于或者等于源函数参数个数
3.枚举
数字和枚举可以相互兼容，枚举与枚举间不兼容
4.类
类的构造函数和静态成员不参与比较，当类中有私有成员时，两个类不兼容，类与子类可以
5.泛型
1）泛型接口
在两个泛型参数只有类型不相同时，只有在泛型参数使用时才影响
2）泛型函数

**类型保护**

typeof：判断一个变量的类型
instanceof：判断一个实例是否属于某个类
in：判断一个属性是否属于某个对象
类型保护函数：某些判断可能不是一条语句能够搞定的，需要更多复杂的逻辑，适合封装到一个函数内